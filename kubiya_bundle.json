{
  "tools": [
    {
      "name": "test_123",
      "source": null,
      "alias": null,
      "description": "Prints pandas {name}!",
      "type": "docker",
      "content": "\ncurl -LsSf https://astral.sh/uv/install.sh | sh > /dev/null 2>&1\n. $HOME/.cargo/env\n\nuv venv > /dev/null 2>&1\n. .venv/bin/activate > /dev/null 2>&1\n\nuv pip install -r /tmp/requirements.txt > /dev/null 2>&1\n\npython /tmp/main.py \"{{ .name }}\" \"{{ .boolean_val }}\" \"{{ .optional_str }}\"\n",
      "content_url": null,
      "args": [
        {
          "name": "name",
          "type": null,
          "description": "Input param for arg: name, type: string",
          "required": true,
          "default": null,
          "options": null,
          "options_from": null
        },
        {
          "name": "boolean_val",
          "type": null,
          "description": "Input param for arg: boolean_val, type: string, Options: true, false",
          "required": true,
          "default": null,
          "options": null,
          "options_from": null
        },
        {
          "name": "optional_str",
          "type": null,
          "description": "Input param for arg: optional_str, type: string",
          "required": false,
          "default": "sheeesh",
          "options": null,
          "options_from": null
        }
      ],
      "env": [],
      "secrets": [],
      "dependencies": null,
      "dependencies_url": null,
      "openapi": null,
      "with_files": [
        {
          "source": null,
          "destination": "/tmp/main.py",
          "content": "\nfrom typing_extensions import Annotated\n\nimport typer\n\ndef test_123(\n    name: str,\n    boolean_val: bool,  # This will validate that the input is a boolean\n    optional_str: Annotated[\n        str, typer.Argument()\n    ] = \"sheeesh\",  # This is how to add a default value\n):\n    import pandas as pd\n\n    print(f\"Hello {name}! {boolean_val} {optional_str}\")\n    df = pd.DataFrame(\n        {\"name\": [name], \"boolean_val\": [boolean_val], \"test\": [optional_str]}\n    )\n\n    print(df)\n\n\nif __name__ == \"__main__\":\n    typer.run(test_123)\n"
        },
        {
          "source": null,
          "destination": "/tmp/requirements.txt",
          "content": "pandas==2.2.3\ntyper==0.12.5"
        }
      ],
      "with_services": [],
      "with_git_repo": null,
      "with_volumes": [],
      "entrypoint": [],
      "icon_url": null,
      "image": "python:3.12",
      "long_running": false,
      "on_start": null,
      "on_complete": null,
      "mermaid": "graph TD\n    %% Styles\n    classDef triggerClass fill:#3498db,color:#fff,stroke:#2980b9,stroke-width:2px,font-weight:bold\n    classDef paramClass fill:#2ecc71,color:#fff,stroke:#27ae60,stroke-width:2px\n    classDef execClass fill:#e74c3c,color:#fff,stroke:#c0392b,stroke-width:2px,font-weight:bold\n    classDef envClass fill:#f39c12,color:#fff,stroke:#f1c40f,stroke-width:2px\n\n    %% Main Components\n    Trigger(\"Trigger\"):::triggerClass\n    Params(\"Parameters\"):::paramClass\n    Exec(\"test_123\"):::execClass\n    Env(\"Environment\"):::envClass\n\n    %% Flow\n    Trigger --> Params --> Exec\n    Env --> Exec\n\n    %% Trigger Options\n    User(\"User\")\n    API(\"API\")\n    Webhook(\"Webhook\")\n    Cron(\"Scheduled\")\n    User --> Trigger\n    API --> Trigger\n    Webhook --> Trigger\n    Cron --> Trigger\n\n    %% Parameters\n    subgraph Parameters[\"Parameters\"]\n        direction TB\n        Param0(\"name (Required)<br/>Input param for arg: name, type: string\"):::paramClass\n        Param1(\"boolean_val (Required)<br/>Input param for arg: boolean_val, type: string, Options: true, false\"):::paramClass\n        Param2(\"optional_str (Optional)<br/>Input param for arg: optional_str, type: string<br/>Default: sheeesh\"):::paramClass\n    end\n    Parameters --- Params\n\n    %% Execution\n    subgraph Execution[\"Execution\"]\n        direction TB\n        Code(\"Script: <br/>curl -LsSf https://astral.sh/uv/install.sh | sh >...\")\n        Type(\"Type: Docker\")\n        Image(\"Docker Image: python:3.12\")\n    end\n    Execution --- Exec\n\n    %% Environment\n    subgraph Environment[\"Environment\"]\n        direction TB\n    end\n    Environment --- Env\n\n    %% Context Note\n    ContextNote(\"Parameter values can be<br/>fetched from context<br/>based on the trigger\")\n    ContextNote -.-> Params",
      "workflow": false,
      "metadata": {}
    },
    {
      "name": "say_hello",
      "source": null,
      "alias": null,
      "description": "Prints hello {name}!",
      "type": "docker",
      "content": "\ncurl -LsSf https://astral.sh/uv/install.sh | sh > /dev/null 2>&1\n. $HOME/.cargo/env\n\nuv venv > /dev/null 2>&1\n. .venv/bin/activate > /dev/null 2>&1\n\nuv pip install -r /tmp/requirements.txt > /dev/null 2>&1\n\npython /tmp/main.py \"{{ .name }}\"\n",
      "content_url": null,
      "args": [
        {
          "name": "name",
          "type": null,
          "description": "name to say hello to",
          "required": true,
          "default": null,
          "options": null,
          "options_from": null
        }
      ],
      "env": [],
      "secrets": [],
      "dependencies": null,
      "dependencies_url": null,
      "openapi": null,
      "with_files": [
        {
          "source": null,
          "destination": "/tmp/main.py",
          "content": "import argparse\n\n\ndef hello_world(name: str):\n    print(f\"Hello, {name}!\")\n\n\nif __name__ == \"__main__\":\n    parser = argparse.ArgumentParser(description=\"Print hello {name}!\")\n    parser.add_argument(\"name\", help=\"Name to say hello to\")\n\n    # Parse command-line arguments\n    args = parser.parse_args()\n\n    # Get coordinates for the given city\n    name = args.name\n\n    hello_world(name)\n"
        },
        {
          "source": null,
          "destination": "/tmp/requirements.txt",
          "content": ""
        }
      ],
      "with_services": [],
      "with_git_repo": null,
      "with_volumes": [],
      "entrypoint": [],
      "icon_url": null,
      "image": "python:3.12",
      "long_running": false,
      "on_start": null,
      "on_complete": null,
      "mermaid": "graph TD\n    %% Styles\n    classDef triggerClass fill:#3498db,color:#fff,stroke:#2980b9,stroke-width:2px,font-weight:bold\n    classDef paramClass fill:#2ecc71,color:#fff,stroke:#27ae60,stroke-width:2px\n    classDef execClass fill:#e74c3c,color:#fff,stroke:#c0392b,stroke-width:2px,font-weight:bold\n    classDef envClass fill:#f39c12,color:#fff,stroke:#f1c40f,stroke-width:2px\n\n    %% Main Components\n    Trigger(\"Trigger\"):::triggerClass\n    Params(\"Parameters\"):::paramClass\n    Exec(\"say_hello\"):::execClass\n    Env(\"Environment\"):::envClass\n\n    %% Flow\n    Trigger --> Params --> Exec\n    Env --> Exec\n\n    %% Trigger Options\n    User(\"User\")\n    API(\"API\")\n    Webhook(\"Webhook\")\n    Cron(\"Scheduled\")\n    User --> Trigger\n    API --> Trigger\n    Webhook --> Trigger\n    Cron --> Trigger\n\n    %% Parameters\n    subgraph Parameters[\"Parameters\"]\n        direction TB\n        Param0(\"name (Required)<br/>name to say hello to\"):::paramClass\n    end\n    Parameters --- Params\n\n    %% Execution\n    subgraph Execution[\"Execution\"]\n        direction TB\n        Code(\"Script: <br/>curl -LsSf https://astral.sh/uv/install.sh | sh >...\")\n        Type(\"Type: Docker\")\n        Image(\"Docker Image: python:3.12\")\n    end\n    Execution --- Exec\n\n    %% Environment\n    subgraph Environment[\"Environment\"]\n        direction TB\n    end\n    Environment --- Env\n\n    %% Context Note\n    ContextNote(\"Parameter values can be<br/>fetched from context<br/>based on the trigger\")\n    ContextNote -.-> Params",
      "workflow": false,
      "metadata": {}
    },
    {
      "name": "create_ui_component_svg",
      "source": null,
      "alias": null,
      "description": "Creates a UI component based on {description} in svg format",
      "type": "docker",
      "content": "\ncurl -LsSf https://astral.sh/uv/install.sh | sh > /dev/null 2>&1\n. $HOME/.cargo/env\n\nuv venv > /dev/null 2>&1\n. .venv/bin/activate > /dev/null 2>&1\n\nuv pip install -r /tmp/requirements.txt > /dev/null 2>&1\n\npython /tmp/main.py \"{{ .description }}\"\n",
      "content_url": null,
      "args": [
        {
          "name": "description",
          "type": null,
          "description": "description of the UI component you want created",
          "required": true,
          "default": null,
          "options": null,
          "options_from": null
        }
      ],
      "env": [],
      "secrets": [
        "OPEN_AI_API_KEY_1"
      ],
      "dependencies": null,
      "dependencies_url": null,
      "openapi": null,
      "with_files": [
        {
          "source": null,
          "destination": "/tmp/main.py",
          "content": "import os\n#import requests\n#import argparse\nimport litellm\n\nfrom datetime import datetime\n\n\n\ndef get_svg_for_ui_component(description: str) -> str:\n    \"\"\"\n    This function prompts GPT-4 to create the UI for a given description,\n    delivering it in the form of SVG code only.\n\n    :param description: A string describing the UI or UI component.\n    :param api_key: OpenAI API key for authentication.\n    :return: SVG code as a string.\n    \"\"\"\n    prompt = f\"Create an SVG representation of the following UI component: {description}. Return only the SVG code and nothing else.\"\n\n\n    openai_api_key = os.environ['OPEN_AI_API_KEY_1']\n    if not openai_api_key:\n        print(\"OPEN_AI_API_KEY_1 environment variable is not set.\")\n        return\n\n    # Call the GPT-4 API\n    response = litellm.completion(\n            model=\"openai/gpt-4o\",\n            api_key=openai_api_key,\n            base_url='https://llm-proxy.kubiya.ai',\n            messages=[\n                {\n                    \"role\": \"user\",\n                    \"content\": prompt,\n                }\n            ],\n        )\n\n    # Extract and return the SVG code from the response\n    svg_code = response['choices'][0]['message']['content'].strip()\n    return svg_code\n\n\ndef save_svg_file(svg_code):\n    \"\"\"\n    Saves the provided SVG code to a .svg file with a timestamped file name.\n    \n    :param svg_code: The SVG code as a string.\n    \"\"\"\n    # Get the current date and time formatted as YYYY_MM_DD_HH_MM_SS\n    timestamp = datetime.now().strftime(\"%Y_%m_%d_%H_%M_%S\")\n    file_name = f\"{timestamp}.svg\"\n    \n    # Write the SVG code to the file\n    with open(file_name, \"w\") as file:\n        file.write(svg_code)\n    print(f\"SVG file saved as {file_name}\")\n\n# Example usage\n\n#svg_code = \"\"\"<svg width=\"300\" height=\"600\" xmlns=\"http://www.w3.org/2000/svg\">\n#  <!-- Background Panel -->\n#  <rect x=\"0\" y=\"0\" width=\"300\" height=\"600\" fill=\"#f8f9fa\" stroke=\"#d3d3d3\" stroke-width=\"1\"/>\n\n#  <!-- Header Section -->\n#  <rect x=\"0\" y=\"0\" width=\"300\" height=\"60\" fill=\"#ffffff\"/>\n#  <text x=\"20\" y=\"35\" font-family=\"Arial\" font-size=\"18\" fill=\"#333\">Ticket Title</text>\n\n#  <!-- Metadata Section -->\n#  <text x=\"20\" y=\"90\" font-family=\"Arial\" font-size=\"12\" fill=\"#888\">Assignee: John Doe</text>\n#  <text x=\"20\" y=\"110\" font-family=\"Arial\" font-size=\"12\" fill=\"#888\">Status: In Progress</text>\n#  <text x=\"20\" y=\"130\" font-family=\"Arial\" font-size=\"12\" fill=\"#888\">Priority: High</text>\n#  <line x1=\"0\" y1=\"150\" x2=\"300\" y2=\"150\" stroke=\"#d3d3d3\" stroke-width=\"1\"/>\n\n#  <!-- Description Section -->\n#  <text x=\"20\" y=\"180\" font-family=\"Arial\" font-size=\"14\" fill=\"#333\">Description:</text>\n#  <rect x=\"20\" y=\"200\" width=\"260\" height=\"100\" fill=\"#ffffff\" stroke=\"#d3d3d3\" stroke-width=\"1\"/>\n#  <text x=\"25\" y=\"220\" font-family=\"Arial\" font-size=\"12\" fill=\"#666\">\n#    This is a brief description of the ticket...\n#  </text>\n\n#  <!-- Activity Log Section -->\n#  <text x=\"20\" y=\"330\" font-family=\"Arial\" font-size=\"14\" fill=\"#333\">Activity Log:</text>\n#  <rect x=\"20\" y=\"350\" width=\"260\" height=\"200\" fill=\"#ffffff\" stroke=\"#d3d3d3\" stroke-width=\"1\"/>\n#  <text x=\"25\" y=\"370\" font-family=\"Arial\" font-size=\"12\" fill=\"#666\">\n#    - Updated status to 'In Progress'\n#  </text>\n#  <text x=\"25\" y=\"390\" font-family=\"Arial\" font-size=\"12\" fill=\"#666\">\n#    - Commented: \"Let's move this forward.\"\n#  </text>\n#  <text x=\"25\" y=\"410\" font-family=\"Arial\" font-size=\"12\" fill=\"#666\">\n#    - Assigned to John Doe\n#  </text>\n#</svg>\"\"\"\n\n\n# Example usage\nif __name__ == \"__main__\":\n    description = \"simple button with rounded corners and a gradient background\"\n\n    # Retrieve the SVG code\n    try:\n        svg_code = get_svg_for_ui_component(description)\n        print(svg_code)\n\n        if not svg_code:\n            print(\"No SVG code returned from GPT-4\")\n        \n        else:\n            # Call the function with the SVG code\n            save_svg_file(svg_code)\n    except Exception as e:\n        print(f\"Error: {e}\")\n\n\n\n\n\n#if __name__ == \"__main__\":\n#    parser = argparse.ArgumentParser(description=\"Print hello {name}!\")\n#    parser.add_argument(\"name\", help=\"Name to say hello to\")\n\n#    # Parse command-line arguments\n#    args = parser.parse_args()\n\n#    # Get coordinates for the given city\n#    name = args.name\n\n#    hello_world(name)\n"
        },
        {
          "source": null,
          "destination": "/tmp/requirements.txt",
          "content": "requests==2.32.3\nlitellm==1.49.5"
        }
      ],
      "with_services": [],
      "with_git_repo": null,
      "with_volumes": [],
      "entrypoint": [],
      "icon_url": null,
      "image": "python:3.12",
      "long_running": false,
      "on_start": null,
      "on_complete": null,
      "mermaid": "graph TD\n    %% Styles\n    classDef triggerClass fill:#3498db,color:#fff,stroke:#2980b9,stroke-width:2px,font-weight:bold\n    classDef paramClass fill:#2ecc71,color:#fff,stroke:#27ae60,stroke-width:2px\n    classDef execClass fill:#e74c3c,color:#fff,stroke:#c0392b,stroke-width:2px,font-weight:bold\n    classDef envClass fill:#f39c12,color:#fff,stroke:#f1c40f,stroke-width:2px\n\n    %% Main Components\n    Trigger(\"Trigger\"):::triggerClass\n    Params(\"Parameters\"):::paramClass\n    Exec(\"create_ui_component_svg\"):::execClass\n    Env(\"Environment\"):::envClass\n\n    %% Flow\n    Trigger --> Params --> Exec\n    Env --> Exec\n\n    %% Trigger Options\n    User(\"User\")\n    API(\"API\")\n    Webhook(\"Webhook\")\n    Cron(\"Scheduled\")\n    User --> Trigger\n    API --> Trigger\n    Webhook --> Trigger\n    Cron --> Trigger\n\n    %% Parameters\n    subgraph Parameters[\"Parameters\"]\n        direction TB\n        Param0(\"description (Required)<br/>description of the UI component you want created\"):::paramClass\n    end\n    Parameters --- Params\n\n    %% Execution\n    subgraph Execution[\"Execution\"]\n        direction TB\n        Code(\"Script: <br/>curl -LsSf https://astral.sh/uv/install.sh | sh >...\")\n        Type(\"Type: Docker\")\n        Image(\"Docker Image: python:3.12\")\n    end\n    Execution --- Exec\n\n    %% Environment\n    subgraph Environment[\"Environment\"]\n        direction TB\n        Secrets(\"Secrets:<br/>OPEN_AI_API_KEY_1\"):::envClass\n    end\n    Environment --- Env\n\n    %% Context Note\n    ContextNote(\"Parameter values can be<br/>fetched from context<br/>based on the trigger\")\n    ContextNote -.-> Params",
      "workflow": false,
      "metadata": {}
    }
  ],
  "errors": [
    {
      "file": "/Users/geffen.posner/geffentools/tools/webflow_blog_tool/tool_def.py",
      "error": "Failed to import /Users/geffen.posner/geffentools/tools/webflow_blog_tool/tool_def.py: 'OPEN_AI_API_KEY_1'",
      "error_type": "<class 'KeyError'>",
      "suggestion": ""
    },
    {
      "file": "/Users/geffen.posner/geffentools/tools/webflow_blog_tool/main.py",
      "error": "Failed to import /Users/geffen.posner/geffentools/tools/webflow_blog_tool/main.py: 'OPEN_AI_API_KEY_1'",
      "error_type": "<class 'KeyError'>",
      "suggestion": ""
    }
  ],
  "python_bundle_version": "3.12.7"
}